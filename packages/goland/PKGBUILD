# Maintainer: Cthulu201 <cthulu201@duck.com>

pkgname="goland"
pkgver=2023.2
pkgrel=1
pkgdesc="Capable and Ergonomic Go IDE"
arch=('x86_64')
url='https://www.jetbrains.com/go/'
license=(custom)
groups=('yobuko')
depends=('glib2')
options=('!strip')
source=("https://download.jetbrains.com/go/${pkgname}-${pkgver}.tar.gz")
sha512sums=('da0a5b6b3af22fec4cc84c1dbcde3ebf03f57afd9a8d4ce30abb10c51754e37785d114cd4c565d5079c90156eefec46686d3ec954f850b4411e6ca65db0ded89')

package() {
  cd "${srcdir}/${pkgname:+GoLand}-${pkgver}" || exit

  install -dm0755 "${pkgdir}/usr/bin/"
  install -dm0755 "${pkgdir}/opt/${pkgname}"
  install -dm0755 "${pkgdir}/usr/share/licenses/${pkgname}/"

  cp -a ./* "${pkgdir}/opt/${pkgname}/"
  cp -a "license/"* "${pkgdir}/usr/share/licenses/${pkgname}/"
  ln -s "/opt/${pkgname}/bin/${pkgname}.sh" "${pkgdir}/usr/bin/${pkgname}"
}
