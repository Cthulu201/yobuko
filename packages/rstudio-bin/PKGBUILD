# Maintainer: Cthulu201 <cthulu201@duck.com>
# Contributor: Maintainer: Meow

pkgname=rstudio-bin
pkgver=2024.04.0_735
pkgrel=1
pkgdesc="An integrated development environment (IDE) for R (binary from RStudio official repository)"
arch=('x86_64')
url="http://www.rstudio.org/"
license=('GPL')
groups=('yobuko')
depends=('r>=3.3.0' 'hicolor-icon-theme' 'shared-mime-info' 'openssl' 'openssl-1.1'
	'at-spi2-core' 'gtk3' 'alsa-lib' 'libedit' 'postgresql-libs' 'sqlite')
optdepends=('clang: C/C++ and Rcpp support')
provides=("rstudio-desktop")
conflicts=('rstudio-desktop' 'rstudio-desktop-git' 'rstudio-desktop-preview-bin')
options=(!strip)
install="${pkgname}".install
source=("https://download1.rstudio.org/electron/jammy/amd64/rstudio-${pkgver//_/-}-amd64.deb"
	"rstudio-bin.install")
sha512sums=('2e5e4ffe9af7acc1e60f9a21fcbeb5443d8430e63eb2d2e0e32c3e7004213a467afd6a048388f01bc599a754c95f6b9e9d1ab5ad54f61fdb19b916cba39235c4'
            '97526989479c289244bad580ce0f1928775dcc2d31dfb18ce1bdccf1bc958398a5f4b1e93f9e2efbca949079f306c416b8e5a45672677a90d7c5b78bac3b8905')

package() {
	shopt -s extglob
	cd "${srcdir}"
	install -d "${pkgdir}/usr/bin"
	bsdtar xf data.tar.xz -C "${pkgdir}"
	ln -s /usr/lib/rstudio/rstudio "${pkgdir}/usr/bin/rstudio"
}
